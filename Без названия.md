## 6. Подробное описание полученных таблиц, атрибутов и связей

| №   | Таблица                   | Первичный ключ (PK)                    | Атрибуты (полный список)                                                                         | Внешние ключи (FK) и ограничения                                                          | Описание таблицы и комментарии                                          |
| --- | ------------------------- | -------------------------------------- | ------------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------------- | ----------------------------------------------------------------------- |
| 1   | **Сотрудник**             | Код_сотрудника (PK)                    | Код_сотрудника, ФИО, Код_цеха (может быть NULL), Код_начальника (может быть NULL)                | → Цех (Код_цеха)<br>→ Сотрудник (Код_начальника) — самоотношение для иерархии руководства | Все сотрудники предприятия. Позволяет строить иерархию подчинения       |
| 2   | **Цех**                   | Код_цеха (PK)                          | Код_цеха, Название_цеха, Код_склада                                                              | → Склад (Код_склада)                                                                      | Производственные цеха предприятия                                       |
| 3   | **Склад**                 | Код_склада (PK)                        | Код_склада, Местоположение, Вместимость                                                          | —                                                                                         | Складские помещения                                                     |
| 4   | **Продукция**             | Код_продукции (PK)                     | Код_продукции, Название                                                                          | —                                                                                         | Каталог выпускаемых изделий                                             |
| 5   | **Оборудование**          | Код_оборудования (PK)                  | Код_оборудования, Название, Тип, Код_поставщика                                                  | → Поставщик (Код_поставщика)                                                              | Всё оборудование, используемое в производстве                           |
| 6   | **Поставщик**             | Код_поставщика (PK)                    | Код_поставщика, Название, Город                                                                  | —                                                                                         | Поставщики оборудования                                                 |
| 7   | **Заказ**                 | Код_заказа (PK)                        | Код_заказа, Дата, Статус, Код_доставки (может быть NULL)                                         | → Доставка (Код_доставки) — необязательная связь                                          | Заказы клиентов                                                         |
| 8   | **Состав_заказа**         | Код_заказа + Номер_позиции (PK)        | Код_заказа, Номер_позиции, Код_продукции, Количество                                             | → Заказ (Код_заказа)<br>→ Продукция (Код_продукции)                                       | Позиции заказа (слабая сущность). Номер_позиции — часть составного PK   |
| 9   | **Доставка**              | Код_доставки (PK)                      | Код_доставки, Дата_доставки, Стоимость, Тип_доставки, Код_поставляемого_товара (может быть NULL) | → Продукция (Код_поставляемого_товара) — если доставляется конкретная продукция           | Информация о доставке заказа. Один заказ → максимум одна доставка       |
| 10  | **Работа_над_продукцией** | Код_сотрудника + Код_продукции (PK)    | Код_сотрудника, Код_продукции, Дата_начала (опционально), Дата_окончания (опционально)           | → Сотрудник (Код_сотрудника)<br>→ Продукция (Код_продукции)                               | Связующая таблица M:N «Сотрудники — Продукция» (кто над чем работает)   |
| 11  | **Работа_с_оборудования** | Код_сотрудника + Код_оборудования (PK) | Код_сотрудника, Код_оборудования, Дата_назначения (опционально)                                  | → Сотрудник (Код_сотрудника)<br>→ Оборудование (Код_оборудования)                         | Связующая таблица M:N «Сотрудники — Оборудование» (кто на чём работает) |

### Ключевые особенности реализованных связей

- **1:n** Склад → Цех — каждый цех привязан к одному складу, склад может обслуживать много цехов.
- **1:n** Цех → Сотрудник — сотрудник работает в одном цехе, в цехе может быть много сотрудников.
- **1:n** Заказ → Состав_заказа — в одном заказе много позиций.
- **1:1** Заказ → Доставка — каждому заказу соответствует не более одной доставки (необязательная).
- **M:N** Сотрудник ↔ Продукция — реализовано через таблицу Работа_над_продукцией.
- **M:N** Сотрудник ↔ Оборудование — реализовано через таблицу Работа_с_оборудованием.
- Самоотношение в таблице Сотрудник (Код_начальника) — позволяет строить произвольную глубину иерархии руководства.

Все внешние ключи имеют ограничения ON DELETE NO ACTION / ON UPDATE CASCADE (или RESTRICT — по желанию преподавателя), что гарантирует ссылочную целостность.